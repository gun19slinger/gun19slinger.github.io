function IconMaker(t){this.form=t.form,this.formElems=this.form.elements,this.iconsCont=t.iconsContainer,this.icons=t.icons,this.addNewIcon=t.addNewIcon,this.newIcon=null,this.iconsBEMNames=this.getBEMNames(this.iconsCont.className),this.addIcons(),this.clearForm(),this.iconsCont.addEventListener("mousedown",function(t){t.preventDefault()}),this.iconsCont.addEventListener("click",this.showSelectedIcon.bind(this)),this.form.addEventListener("submit",this.createNewIcon.bind(this))}IconMaker.prototype.addIcons=function(){var t=document.createElement("ul");t.classList.add(this.iconsBEMNames.list),this.createIcons().forEach(function(e){t.appendChild(e)}),this.iconsCont.appendChild(t),this.iconsCont.style.visibility="visible"},IconMaker.prototype.createIcons=function(){var t=[];return this.icons.forEach(function(e){var i=document.createElement("li");i.classList.add(this.iconsBEMNames.item);var n=document.createElement("img");n.classList.add(this.iconsBEMNames.image),n.src=e;var s=e.slice(6);s=s.substr(0,s.length-4),n.alt=s,i.appendChild(n),t.push(i)}.bind(this)),t},IconMaker.prototype.showSelectedIcon=function(t){if("IMG"===t.target.tagName){var e=this.form.querySelector(".createItem__image");e.children.length>1&&e.removeChild(e.children[1]);var i=t.target.cloneNode(!0);i.style.position="absolute",e.appendChild(i),this.formElems[1].value=t.target.getAttribute("src")}},IconMaker.prototype.createNewIcon=function(t){t.preventDefault();var e=this.formElems[0].value,i=this.formElems[1].value,n=this.randID();e=e||"file",i=i||"icons/Blank.PNG",this.newIcon={id:n,text:e,img:i},this.addNewIcon(this.newIcon)},IconMaker.prototype.getBEMNames=function(t){return{list:t+"__list",item:t+"__item",image:t+"__image"}},IconMaker.prototype.clearForm=function(){this.formElems[0].value="",this.formElems[1].value=""},IconMaker.prototype.randID=function(){return Math.random().toString(36).slice(5)};